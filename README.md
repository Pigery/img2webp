# 多媒体格式转换器 (Img2WebP)

一个功能强大的桌面应用程序，用于将各种图片格式批量转换为WebP格式，并支持视频压缩功能。

## ✨ 功能特性

### 图片转换功能
- 📁 **支持文件和文件夹上传** - 可单独选择文件或整个文件夹
- 🖱️ **拖拽上传支持** - 直接将文件或文件夹拖入界面进行转换
- 🎨 **多格式支持** - 同时支持 PNG、JPG、JPEG、BMP、GIF、TIFF 等格式
- 📂 **自定义输出路径** - 可选择转换后图片的保存位置
- ⚙️ **质量可调** - 提供多种WebP质量选项（高质量/较高质量/中等质量/低质量）
- 🚀 **批量转换** - 支持批量处理大量图片

### 视频压缩功能
- � **多种视频格式支持** - 支持 MP4、AVI、MKV、MOV 等常见视频格式
- ⚙️ **压缩质量选择** - 提供高、中、低三种压缩质量
- 🎯 **高效压缩** - 使用 FFmpeg 进行专业级视频压缩

### 通用功能
- � **实时进度显示** - 转换/压缩过程实时显示进度
- ✅ **结果统计** - 显示成功/失败文件数量
- 🎯 **多任务支持** - 图片转换和视频压缩分开处理，界面清晰

## 📋 系统要求

- Python 3.10 或更高版本
- Windows 10/11（其他系统可能需要调整）

## 🚀 快速开始

### 方法一：使用 uv（推荐）

```bash
# 1. 进入项目目录
cd img2webp

# 2. 安装依赖
uv pip install 

# 3. 运行应用
python src/main.py
```

### 方法二：使用 pip

```bash
# 1. 进入项目目录
cd img2webp

# 2. 安装依赖
pip install imageio-ffmpeg pillow pyqt6

# 3. 运行应用
python src/main.py
```

## 📖 使用说明

### 图片转换
1. **添加文件**
   - 点击「选择文件」按钮选择单个或多个图片文件
   - 点击「选择文件夹」按钮选择包含图片的文件夹（会自动扫描子目录）
   - 直接将文件或文件夹拖入图片转换区域

2. **设置输出路径**
   - 点击「浏览」按钮选择转换后图片的保存位置

3. **调整质量（可选）**
   - 从下拉菜单中选择WebP质量级别

4. **开始转换**
   - 点击「开始转换」按钮开始转换过程
   - 等待转换完成，查看结果统计

### 视频压缩
1. **添加视频文件**
   - 点击「选择视频」按钮选择单个或多个视频文件
   - 点击「选择视频文件夹」按钮选择包含视频的文件夹
   - 直接将视频文件拖入视频压缩区域

2. **设置输出路径**
   - 点击「浏览」按钮选择压缩后视频的保存位置

3. **选择压缩质量**
   - 从下拉菜单中选择压缩质量级别（高/中/低）

4. **开始压缩**
   - 点击「开始压缩」按钮开始压缩过程
   - 等待压缩完成，查看结果统计

## 🛠️ 技术栈

- **Python** - 核心编程语言
- **PyQt6** - 图形用户界面框架
- **Pillow** - 图片处理库
- **FFmpeg** - 视频压缩工具

## 📦 依赖包

```
imageio-ffmpeg>=0.6.0
pillow>=12.0.0
pyqt6>=6.10.1
```

## 📁 项目结构

```
img2webp/
├── src/              # 源代码目录
│   ├── ui/           # UI组件目录
│   │   ├── components.py  # 自定义UI组件
│   │   └── main_window.py # 主窗口
│   ├── converter.py  # 转换逻辑
│   └── main.py       # 主程序入口
├── .gitignore        # Git忽略文件
├── .python-version   # Python版本配置
├── Img2WebP.spec     # PyInstaller打包配置
├── README.md         # 项目说明文档
├── pyproject.toml    # 项目配置文件
└── uv.lock           # uv依赖锁文件
```

## 🤝 贡献

如果您发现任何问题或有改进建议，请随时提出 Issue 或 Pull Request。

## 🔧 常见问题

### Q: 支持哪些图片输入格式？
A: 支持 PNG、JPG、JPEG、BMP、GIF、TIFF 等常用图片格式。

### Q: 支持哪些视频格式？
A: 支持 MP4、AVI、MKV、MOV 等常见视频格式。

### Q: WebP质量如何选择？
A: 
- 高质量 (95): 接近原图质量，文件较大
- 较高质量 (85): 平衡质量和文件大小，推荐使用
- 中等质量 (75): 较小文件，质量略有损失
- 低质量 (60): 最小文件大小，质量明显损失

### Q: 视频压缩质量如何选择？
A: 
- 高质量: 保持原视频清晰度，文件较大
- 中等质量: 平衡质量和文件大小，推荐使用
- 低质量: 文件较小，清晰度略有损失

### Q: 转换后的文件保存在哪里？
A: 您可以在转换前通过「浏览」按钮自定义输出目录。

### Q: 支持递归转换文件夹吗？
A: 支持。选择文件夹时，程序会自动扫描所有子目录中的图片文件。

### Q: 视频压缩需要安装什么？
A: 视频压缩功能需要安装 FFmpeg，请确保系统中已安装并添加到环境变量。
